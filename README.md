
<center><h1>Social Media App</h1></center>

<h2>Description:</h2> 

<p>A Laravel backend application for Social Media APIs. Users can view news feed, post, create personal page, follow other people and pages. Authentication is implemented using JWT.</p>


<h2>Versions used:</h2>

PHP 7.4.25<br>
Laravel 7.30.6<br>

<h2>Setup Details:</h2>

Database Configuration can be found in the .env file:
```php
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=social_media
DB_USERNAME=root
DB_PASSWORD=
```

After creating Database, the Schema can be generated by running migration: 
```php
php artisan migrate
```

Mock data prepared in the UserSeeder can be used by running:
```php
php artisan db:seed
```

You can also import this SQL Dump:
<a href="https://github.com/sarwat-osman/social-media/blob/main/social_media.sql">social_media.sql</a>


<h2>API Documentation:</h2>

<h3>User Registration:</h3> 
<p>Registers a person in the social network with personal information validation.</p>

<b>http://127.0.0.1:8000/api/register<br>
POST</b>

REQUEST:
```php
{
	"first_name": "John",
	"last_name":  "Smith",
	"email":  "john@gmail.com",
	"password": "10101010"
}
```

RESPONSE:
```php
{
	"user": {
		"first_name": "John",
		"last_name": "Smith",
		"email": "john@gmail.com",
		"updated_at": "2022-01-28T19:09:45.000000Z",
		"created_at": "2022-01-28T19:09:45.000000Z",
		"id": 22
	}
}
```

<h3>Login:</h3> 
<p>User with valid credentials can log in the social network followed by Authorization token generation.</p>

<b>http://127.0.0.1:8000/api/login<br>
POST</b>

REQUEST:
```php
{
	"email":  "john@gmail.com",
	"password": "10101010"
}
```

RESPONSE:
```php
{
	"access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOlwvXC8xMjcuMC4wLjE6ODAwMFwvYXBpXC9sb2dpbiIsImlhdCI6MTY0MzM5ODAyMiwiZXhwIjoxNjQzNDAxNjIyLCJuYmYiOjE2NDMzOTgwMjIsImp0aSI6Inl4Mm96SmFCVXpuUklNUDkiLCJzdWIiOjIyLCJwcnYiOiI4N2UwYWYxZWY5ZmQxNTgxMmZkZWM5NzE1M2ExNGUwYjA0NzU0NmFhIn0.DV4mQ71CZoI2T4udZcpGmPHlrWstwjhFXGyUngFGUzA",
	"user": {
		"id": 22,
		"first_name": "John",
		"last_name": "Smith",
		"email": "john@gmail.com",
		"created_at": "2022-01-28T19:09:45.000000Z",
		"updated_at": "2022-01-28T19:09:45.000000Z"
	}
}
```


<h3>Create Page:</h3> 
<p>Logged in User can create his/her own page by giving a title.</p>

<b>http://127.0.0.1:8000/api/create-page<br>
POST</b>

REQUEST:
```php
{
	"page_name":  "My first page"
}
```

RESPONSE:
```php
{
	"message": "Page created successfully!"
}
```


<h3>Follow Person:</h3> 
<p>Logged in User can follow another person. (id - person id)</p>

<b>http://127.0.0.1:8000/api/follow-person<br>
POST</b>

REQUEST:
```php
{
	"id":  "2"
}
```

RESPONSE:
```php
{
	"message": "Following successful!"
}
```



<h3>Follow Page:</h3> 
<p>Logged in User can follow a page of choice. (id - page id)</p>

<b>http://127.0.0.1:8000/api/follow-page<br>
POST</b>

REQUEST:
```php
{
	"id":  "5"
}
```

RESPONSE:
```php
{
	"message": "Page followed successfully!"
}
```


<h3>Add Post:</h3> 
<p>Logged in User can create a personal post of limited length.</p>

<b>http://127.0.0.1:8000/api/add-personal-post<br>
POST</b>

REQUEST:
```php
{
	"post_content":  "This is John's first personal post."
}
```

RESPONSE:
```php
{
	"message": "Posted successfully!"
}
```


<h3>Publish Page Post:</h3> 
<p>Logged in Page Owner can publish a post on his/her page.</p>

<b>http://127.0.0.1:8000/api/publish-page-post<br>
POST</b>

REQUEST:
```php
{
	"page_id":  "2"
	"post_content":  "First post on this page. Stay tuned for more."
}
```

RESPONSE:
```php
{
	"message": "Posted successfully!"
}
```



<h3>News Feed:</h3> 
<p>Logged in User can view posts from people and pages he/she followed with the latest ones displayed first. Supports pagination by taking page number and page size as params.</p>

<b>http://127.0.0.1:8000/api/view-newsfeed?page=1&page_size=10<br>
GET</b>

RESPONSE:
```php
{
  "data": [
    {
      "id": 3,
      "post_content": "This is the first post of Wz5O9uC0tj.",
      "page_id": null,
      "owner_id": 2,
      "created_at": "2022-01-28T16:05:15.000000Z",
      "updated_at": "2022-01-28T16:05:15.000000Z"
    },
    {
      "id": 2,
      "post_content": "Hi guys! My name is Sarwat. I just joined this social network. Please follow me.",
      "page_id": null,
      "owner_id": 1,
      "created_at": "2022-01-28T15:58:41.000000Z",
      "updated_at": "2022-01-28T15:58:41.000000Z"
    },
    {
      "id": 1,
      "post_content": "Welcome everyone. I just opened this new page.",
      "page_id": 1,
      "owner_id": null,
      "created_at": "2022-01-28T15:54:33.000000Z",
      "updated_at": "2022-01-28T15:54:33.000000Z"
    }
  ]
}
```
